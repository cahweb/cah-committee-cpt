window.onload=function(){registerAddButton(),registerDeleteButtons()};const fields=["name","dept","phone","term"];function registerAddButton(){document.querySelector("#addButton").addEventListener("click",addNewMember)}function registerDeleteButtons(){document.querySelector("#members").addEventListener("click",e=>{if("button"==e.target.getAttribute("type")&&e.target.classList.contains("delete")){const t=/^delete-(\d+)$/,n=e.target.id.match(t);if(n.length){deleteMember(`member-${n[1]}`)}}})}function deleteMember(e){const t=document.querySelectorAll(".member-box").length,n=document.getElementById(e);if(t>1)n.remove();else{n.querySelectorAll("input").forEach(e=>{e.value=""})}}function addNewMember(){const e=document.querySelectorAll("#members .member-box:last-of-type").id.match(/^member-(\d+)$/);if(!e)return;const t=parseInt(e[1])+1,n=document.createElement("div");n.classList.add("member-box"),n.id=`member-${t}`;const r=document.createElement("div");r.classList.add("member-fields");for(const e of fields){const n=document.createElement("div");n.classList.add("form-group");const d=`member-${e}-${t}`,o=document.createElement("label");o.setAttribute("for",d);const c=e.slice(0,1).toUpperCase()+e.slice(1)+":",s=document.createElement("strong");s.innerHTML=c,o.append(s),n.append(o);const m=document.createElement("input");m.setAttribute("type","phone"==e?"tel":"text"),m.setAttribute("id",d),m.setAttribute("name",`member-${e}[]`),"term"==e&&m.setAttribute("maxlength",9),n.append(m),r.append(n)}n.append(r);const d=document.createElement("div");d.classList.add("delete-button-container");const o=document.createElement("button");o.setAttribute("id",`delete-${t}`),o.setAttribute("type","button"),o.classList.add("button-secondary","delete"),o.innerHTML="&minus;",d.append(o),n.append(d),document.querySelector("#members .buttons").before(n)}